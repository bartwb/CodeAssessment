===== CODE ASSESSMENT RAPPORT =====
Datum/tijd (UTC): 2025-11-30 16:40:55

== Kandidaat ==
Id      : demo-123
Naam    : Test Kandidaat
Email   : test@example.com

== Opdracht ==
AssignmentId  : csharp-junior-1
AssignmentName: Bestelbedrag met btw

== Samenvatting ==
Einds score     : 8
AI score        : 8
Compileert      : JA
Alle tests groen: NEE

== AI review ==
Score: 8 / 10

Algemene feedback:
The code is generally well-structured and follows good practices. It correctly calculates the total price including VAT for a list of order lines. The use of exceptions for input validation is appropriate, and the code is easy to read and understand. However, there are minor improvements that can be made in terms of exception handling and class design.

Issues:
- Regels 8, Severity: Info
  Suggestie: Consider making the OrderLine class immutable by using read-only properties and a constructor to set values. This can help prevent accidental modifications and make the class more robust.
- Regels 20, Severity: Warning
  Suggestie: The method CalculateTotalWithVat throws exceptions for invalid input. Consider using a more user-friendly approach, such as returning a result object that indicates success or failure, to improve robustness and usability.
- Regels 38, Severity: Info
  Suggestie: Consider using string interpolation for the Console.WriteLine statement for improved readability: Console.WriteLine($"Totaal incl. btw: {total:0.00} EUR");

== Static analysis ==
Analyzer: .NET Code Analysis (Roslyn + analyzers)
Aantal diagnostics: 30

- CA1510 [Warning] @ 20:13
  Use 'ArgumentNullException.ThrowIfNull' instead of explicitly throwing a new exception instance
- CA1852 [Warning] @ 14:11
  Type 'Program' can be sealed because it has no subtypes in its containing assembly and is not externally visible
- CA1852 [Warning] @ 7:11
  Type 'OrderLine' can be sealed because it has no subtypes in its containing assembly and is not externally visible
- RCS1001 [Warning] @ 34:21
  Add braces to if statement (when expression spans over multiple lines)
- RCS1001 [Warning] @ 39:21
  Add braces to if statement (when expression spans over multiple lines)
- RCS1102 [Warning] @ 14:11
  Make class static
- RCS1124 [Warning] @ 46:13
  Inline local variable
- SA1200 [Warning] @ 2:3
  Using directive should appear within a namespace declaration
- SA1200 [Warning] @ 3:3
  Using directive should appear within a namespace declaration
- SA1400 [Warning] @ 7:11
  Element 'OrderLine' should declare an access modifier
- SA1400 [Warning] @ 14:11
  Element 'Program' should declare an access modifier
- SA1400 [Warning] @ 50:21
  Element 'Main' should declare an access modifier
- SA1402 [Warning] @ 7:11
  File may only contain a single type
- SA1413 [Warning] @ 55:17
  Use trailing comma in multi-line initializers
- SA1503 [Warning] @ 21:17
  Braces should not be omitted
- SA1503 [Warning] @ 24:17
  Braces should not be omitted
- SA1503 [Warning] @ 31:21
  Braces should not be omitted
- SA1516 [Warning] @ 10:1
  Elements should be separated by blank line
- SA1516 [Warning] @ 11:1
  Elements should be separated by blank line
- SA1517 [Warning] @ 1:1
  Code should not contain blank lines at start of file
- SA1519 [Warning] @ 34:21
  Braces should not be omitted from multi-line child statement
- SA1519 [Warning] @ 39:21
  Braces should not be omitted from multi-line child statement
- SA1600 [Warning] @ 11:24
  Elements should be documented
- SA1600 [Warning] @ 9:23
  Elements should be documented
- SA1600 [Warning] @ 10:20
  Elements should be documented
- SA1600 [Warning] @ 7:11
  Elements should be documented
- SA1600 [Warning] @ 14:11
  Elements should be documented
- SA1600 [Warning] @ 18:31
  Elements should be documented
- SA1633 [Warning] @ 1:1
  The file header is missing or not located at the top of the file.
- SA1649 [Warning] @ 7:11
  File name should match first type name

== Runtime ==
ExitCode         : 0
RunDurationMs    : 209
RunTotalCpuTimeMs: 62
RunAverageCpuPct : 356.0
RunPeakWorkingSet: 0 MB

Fases:
- init
  DurationMs    : 1074
  CpuTimeMs     : -
  PeakWorkingSet: -

- restore
  DurationMs    : 779
  CpuTimeMs     : -
  PeakWorkingSet: -

- build
  DurationMs    : 1345
  CpuTimeMs     : -
  PeakWorkingSet: -

- publish
  DurationMs    : 1252
  CpuTimeMs     : -
  PeakWorkingSet: -

- run
  DurationMs    : 209
  CpuTimeMs     : 62
  PeakWorkingSet: 0 MB
  Samples count : 1
  Samples range : 203 ms → 203 ms

StdOut (snippet):
  Determining projects to restore...
  All projects are up-to-date for restore.


  Determining projects to restore...
  All projects are up-to-date for restore.
  UserApp -> C:\Users\BartvandenHoven\AppData\Local\Temp\run-analyze-b2c15d1f888d44a4b78874728b516a34\UserApp\bin\Release\net10.0\UserApp.dll

Build succeeded.
    0 Warning(s)
    0 Error(s)

Time Elapsed 00:00:01.07


  Deter...

== Tests ==
Binary score: FOUT
Total       : 0
Passed      : 0
Failed      : 0

Geen individuele tests geregistreerd.

== dotnet test stdout ==
  Determining projects to restore...
C:\Users\BartvandenHoven\AppData\Local\Temp\run-dc24b01cbb0f4cf0ba35c831ef8031da\Tests\Tests.csproj : warning NU1603: Tests depends on Microsoft.NET.Test.Sdk (>= 17.10.1) but Microsoft.NET.Test.Sdk 17.10.1 was not found. Microsoft.NET.Test.Sdk 17.11.0 was resolved instead.
  Restored C:\Users\BartvandenHoven\AppData\Local\Temp\run-dc24b01cbb0f4cf0ba35c831ef8031da\Tests\Tests.csproj (in 240 ms).
  1 of 2 projects are up-to-date for restore.


  Determining projects to restore...
C:\Users\BartvandenHoven\AppData\Local\Temp\run-dc24b01cbb0f4cf0ba35c831ef8031da\Tests\Tests.csproj : warning NU1603: Tests depends on Microsoft.NET.Test.Sdk (>= 17.10.1) but Microsoft.NET.Test.Sdk 17.10.1 was not found. Microsoft.NET.Test.Sdk 17.11.0 was resolved instead.
  All projects are up-to-date for restore.
C:\Users\BartvandenHoven\AppData\Local\Temp\run-dc24b01cbb0f4cf0ba35c831ef8031da\Tests\Tests.csproj : warning NU1603: Tests depends on Microsoft.NET.Test.Sdk (>= 17.10.1) but Microsoft.NET.Test.Sdk 17.10.1 was not found. Microsoft.NET.Test.Sdk 17.11.0 was resolved instead.
  AssesmentSolution -> C:\Users\BartvandenHoven\AppData\Local\Temp\run-dc24b01cbb0f4cf0ba35c831ef8031da\AssesmentSolution\bin\Release\net10.0\AssesmentSolution.dll
C:\Users\BartvandenHoven\AppData\Local\Temp\run-dc24b01cbb0f4cf0ba35c831ef8031da\Tests\Test.cs(10,29): error CS0122: 'OrderLine' is inaccessible due to its protection level [C:\Users\BartvandenHoven\AppData\Local\Temp\run-dc24b01cbb0f4cf0ba35c831ef8031da\Tests\Tests.csproj]

Build FAILED.

C:\Users\BartvandenHoven\AppData\Local\Temp\run-dc24b01cbb0f4cf0ba35c831ef8031da\Tests\Tests.csproj : warning NU1603: Tests depends on Microsoft.NET.Test.Sdk (>= 17.10.1) but Microsoft.NET.Test.Sdk 17.10.1 was not found. Microsoft.NET.Test.Sdk 17.11.0 was resolved instead.
C:\Users\BartvandenHoven\AppData\Local\Temp\run-dc24b01cbb0f4cf0ba35c831ef8031da\Tests\Tests.csproj : warning NU1603: Tests depends on Microsoft.NET.Test.Sdk (>= 17.10.1) but Microsoft.NET.Test.Sdk 17.10.1 was not found. Microsoft.NET.Test.Sdk 17.11.0 was resolved instead.
C:\Users\BartvandenHoven\AppData\Local\Temp\run-dc24b01cbb0f4cf0ba35c831ef8031da\Tests\Test.cs(10,29): error CS0122: 'OrderLine' is inaccessible due to its protection level [C:\Users\BartvandenHoven\AppData\Local\Temp\run-dc24b01cbb0f4cf0ba35c831ef8031da\Tests\Tests.csproj]
    2 Warning(s)
    1 Error(s)

Time Elapsed 00:00:01.75


  Determining projects to restore...
C:\Users\BartvandenHoven\AppData\Local\Temp\run-dc24b01cbb0f4cf0ba35c831ef8031da\Tests\Tests.csproj : warning NU1603: Tests depends on Microsoft.NET.Test.Sdk (>= 17.10.1) but Microsoft.NET.Test.Sdk 17.10.1 was not found. Microsoft.NET.Test.Sdk 17.11.0 was resolved instead.
  All projects are up-to-date for restore.
C:\Users\BartvandenHoven\AppData\Local\Temp\run-dc24b01cbb0f4cf0ba35c831ef8031da\Tests\Tests.csproj : warning NU1603: Tests depends on Microsoft.NET.Test.Sdk (>= 17.10.1) but Microsoft.NET.Test.Sdk 17.10.1 was not found. Microsoft.NET.Test.Sdk 17.11.0 was resolved instead.
  AssesmentSolution -> C:\Users\BartvandenHoven\AppData\Local\Temp\run-dc24b01cbb0f4cf0ba35c831ef8031da\AssesmentSolution\bin\Release\net10.0\AssesmentSolution.dll
C:\Users\BartvandenHoven\AppData\Local\Temp\run-dc24b01cbb0f4cf0ba35c831ef8031da\Tests\Test.cs(10,29): error CS0122: 'OrderLine' is inaccessible due to its protection level [C:\Users\BartvandenHoven\AppData\Local\Temp\run-dc24b01cbb0f4cf0ba35c831ef8031da\Tests\Tests.csproj]


== Ingezonden code ==

  using System;
  using System.Collections.Generic;

  namespace Assessment.Junior
  {
    class OrderLine
    {
        public string ProductName { get; set; } = string.Empty;
        public int Quantity { get; set; }
        public decimal UnitPrice { get; set; }
    }

    class Program
    {
        private const decimal VatRate = 0.21m;

        public static decimal CalculateTotalWithVat(List<OrderLine> lines)
        {
            if (lines == null)
                throw new ArgumentNullException(nameof(lines));

            if (lines.Count == 0)
                return 0m;

            decimal subtotal = 0m;

            foreach (var line in lines)
            {
                if (line == null)
                    continue; // defensive: sla null-regels over

                if (line.Quantity <= 0)
                    throw new ArgumentException(
                        $"Quantity must be > 0 for product '{line.ProductName}'.",
                        nameof(lines));

                if (line.UnitPrice < 0)
                    throw new ArgumentException(
                        $"UnitPrice must be >= 0 for product '{line.ProductName}'.",
                        nameof(lines));

                subtotal += line.Quantity * line.UnitPrice;
            }

            decimal total = subtotal * (1m + VatRate);
            return total;
        }

        static void Main()
        {
            var lines = new List<OrderLine>
            {
                new OrderLine { ProductName = "C# in Depth", Quantity = 2, UnitPrice = 39.95m },
                new OrderLine { ProductName = "Clean Code", Quantity = 1, UnitPrice = 34.50m }
            };

            var total = CalculateTotalWithVat(lines);

            Console.WriteLine($"Totaal incl. btw: {total:0.00} EUR");
        }
    }
  }
